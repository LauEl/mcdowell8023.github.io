"use strict";function getStyle(e,t){return(e.currentStyle||getComputedStyle(e,!1))[t]}function doMove(e,t,n){n=n||{},n.duration=n.duration||700,n.easing=n.easing||Tween.Quad.easeIn;var a={},o={};for(var r in t)a[r]=parseFloat(getStyle(e,r)),isNaN(a[r])&&(a[r]=1),o[r]=t[r]-a[r];var l=Math.floor(n.duration/16),i=0;clearInterval(e.timer),e.timer=setInterval(function(){i++;for(var r in t){var s=n.easing(i*n.duration/l,a[r],o[r],n.duration);"opacity"==r?(e.style.opacity=s,e.style.filter="alpha(opacity:"+100*s+")"):e.style[r]=s+"px"}i==l&&(clearInterval(e.timer),n.complete&&n.complete())},16)}function getStyle(e,t){return(e.currentStyle||getComputedStyle(e,!1))[t]}function startMove(e,t,n){n=n||{},n.duration=n.duration||700,n.easing=n.easing||"ease-out";var a={},o={};for(var r in t)a[r]=parseFloat(getStyle(e,r)),o[r]=t[r]-a[r],isNaN(a[r])&&(a[r]=1);var l=Math.floor(n.duration/30),i=0;clearInterval(e.timer),e.timer=setInterval(function(){i++;for(var r in t){switch(n.easing){case"linear":var s=i/l,c=a[r]+o[r]*s;break;case"ease-in":var s=i/l,c=a[r]+o[r]*Math.pow(s,3);break;case"ease-out":var s=1-i/l,c=a[r]+o[r]*(1-Math.pow(s,3))}"opacity"==r?(e.style.opacity=c,e.style.filter="alpha(opacity:"+100*c+")"):e.style[r]=c+"px",i==l&&(clearInterval(e.timer),n.complete&&n.complete())}},30)}function addEvent(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function DOMReady(e){document.addEventListener?addEvent(document,"DOMContentLoaded",function(){e()}):addEvent(document,"readystatechange",function(){"complete"==document.readyState&&e()})}function whRem(e){var t=getStyle(document.documentElement,"fontSize");return parseInt(t)*e}function a2d(e){return 180*e/Math.PI}function d2a(e){return e*Math.PI/180}function getpost(e){for(var t=0,n=0;e;)t+=e.offsetLeft,n+=e.offsetTop,e=e.offsetParent;return{left:t,top:n}}function rand(e,t){return Math.floor(Math.random()*(t-e)+e)}function playball(e,t){var n=6,a=8;clearInterval(e.timer),e.timer=setInterval(function(){a+=3;var o=e.offsetLeft+n,r=e.offsetTop+a;r>=e.parentNode.offsetHeight-e.offsetHeight?(r=e.parentNode.offsetHeight-e.offsetHeight,a*=-.8,n*=.8):r<0&&(r=0,a*=-.8,n*=.8),o>=e.parentNode.offsetWidth-e.offsetWidth?(o=e.parentNode.offsetWidth-e.offsetWidth,n*=-.8,a*=.8):o<0&&(o=0,n*=-.8,a*=.8),Math.abs(n)<1&&(n=0),Math.abs(a)<1&&(a=0),0==n&&0==a&&r==e.parentNode.offsetHeight-e.offsetHeight&&(clearInterval(e.timer),t&&t()),e.style.left=o+"px",e.style.top=r+"px"},16)}function draw(e,t){var n=e.width/2,a=e.height/2,o=0,r="",l=30,i=40,s=e.getContext("2d");s.beginPath(),s.lineWidth="15",s.lineCap="round",s.font=l+"px kaiti";var c=setInterval(function(){s.clearRect(0,0,e.width,e.height),s.beginPath(),s.fillStyle="#fff",s.strokeStyle="#128ff9",s.arc(n,a,i,d2a(0),d2a(o++),!1),s.stroke(),r=Math.floor(o/360*100)+"%";var u=s.measureText(r).width;s.fillText(r,n-u/2,a+l/4),o>360*t&&clearInterval(c)},16)}function dir(e,t){var n=(document.getElementById("work"),getpost(e).left+e.offsetWidth/2),a=getpost(e).top+e.offsetHeight/2,o=n-t.clientX,r=a-t.clientY-document.body.scrollTop;return Math.round((180*Math.atan2(r,o)/Math.PI+180)/90)%4}function through(e){for(var t=e.getElementsByTagName("li"),n=0;n<t.length;n++)t[n].onmouseenter=function(e){var t=e||event,n=this.children[0],a=dir(this,t);switch(a){case 0:n.style.top="0px",n.style.left="220px";break;case 1:n.style.top="220px",n.style.left="0px";break;case 2:n.style.top="0px",n.style.left="-220px";break;case 3:n.style.top="-220px",n.style.left="0px"}startMove(n,{left:0,top:0})},t[n].onmouseleave=function(e){var t=e||event,n=this.children[0],a=dir(this,t);switch(a){case 0:startMove(n,{left:220,top:0});break;case 1:startMove(n,{left:0,top:220});break;case 2:startMove(n,{left:-220,top:0});break;case 3:startMove(n,{left:0,top:-220})}}}var Tween={Linear:function(e,t,n,a){return n*e/a+t},Quad:{easeIn:function(e,t,n,a){return n*(e/=a)*e+t},easeOut:function(e,t,n,a){return-n*(e/=a)*(e-2)+t},easeInOut:function(e,t,n,a){return(e/=a/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t}},Cubic:{easeIn:function(e,t,n,a){return n*(e/=a)*e*e+t},easeOut:function(e,t,n,a){return n*((e=e/a-1)*e*e+1)+t},easeInOut:function(e,t,n,a){return(e/=a/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t}},Quart:{easeIn:function(e,t,n,a){return n*(e/=a)*e*e*e+t},easeOut:function(e,t,n,a){return-n*((e=e/a-1)*e*e*e-1)+t},easeInOut:function(e,t,n,a){return(e/=a/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t}},Quint:{easeIn:function(e,t,n,a){return n*(e/=a)*e*e*e*e+t},easeOut:function(e,t,n,a){return n*((e=e/a-1)*e*e*e*e+1)+t},easeInOut:function(e,t,n,a){return(e/=a/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t}},Sine:{easeIn:function(e,t,n,a){return-n*Math.cos(e/a*(Math.PI/2))+n+t},easeOut:function(e,t,n,a){return n*Math.sin(e/a*(Math.PI/2))+t},easeInOut:function(e,t,n,a){return-n/2*(Math.cos(Math.PI*e/a)-1)+t}},Expo:{easeIn:function(e,t,n,a){return 0==e?t:n*Math.pow(2,10*(e/a-1))+t},easeOut:function(e,t,n,a){return e==a?t+n:n*(-Math.pow(2,-10*e/a)+1)+t},easeInOut:function(e,t,n,a){return 0==e?t:e==a?t+n:(e/=a/2)<1?n/2*Math.pow(2,10*(e-1))+t:n/2*(-Math.pow(2,-10*--e)+2)+t}},Circ:{easeIn:function(e,t,n,a){return-n*(Math.sqrt(1-(e/=a)*e)-1)+t},easeOut:function(e,t,n,a){return n*Math.sqrt(1-(e=e/a-1)*e)+t},easeInOut:function(e,t,n,a){return(e/=a/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t}},Elastic:{easeIn:function(e,t,n,a,o,r){if(0==e)return t;if(1==(e/=a))return t+n;if(r||(r=.3*a),!o||o<Math.abs(n)){o=n;var l=r/4}else var l=r/(2*Math.PI)*Math.asin(n/o);return-(o*Math.pow(2,10*(e-=1))*Math.sin((e*a-l)*(2*Math.PI)/r))+t},easeOut:function(e,t,n,a,o,r){if(0==e)return t;if(1==(e/=a))return t+n;if(r||(r=.3*a),!o||o<Math.abs(n)){o=n;var l=r/4}else var l=r/(2*Math.PI)*Math.asin(n/o);return o*Math.pow(2,-10*e)*Math.sin((e*a-l)*(2*Math.PI)/r)+n+t},easeInOut:function(e,t,n,a,o,r){if(0==e)return t;if(2==(e/=a/2))return t+n;if(r||(r=a*(.3*1.5)),!o||o<Math.abs(n)){o=n;var l=r/4}else var l=r/(2*Math.PI)*Math.asin(n/o);return e<1?-.5*(o*Math.pow(2,10*(e-=1))*Math.sin((e*a-l)*(2*Math.PI)/r))+t:o*Math.pow(2,-10*(e-=1))*Math.sin((e*a-l)*(2*Math.PI)/r)*.5+n+t}},Back:{easeIn:function(e,t,n,a,o){return void 0==o&&(o=1.70158),n*(e/=a)*e*((o+1)*e-o)+t},easeOut:function(e,t,n,a,o){return void 0==o&&(o=1.70158),n*((e=e/a-1)*e*((o+1)*e+o)+1)+t},easeInOut:function(e,t,n,a,o){return void 0==o&&(o=1.70158),(e/=a/2)<1?n/2*(e*e*(((o*=1.525)+1)*e-o))+t:n/2*((e-=2)*e*(((o*=1.525)+1)*e+o)+2)+t}},Bounce:{easeIn:function(e,t,n,a){return n-Tween.Bounce.easeOut(a-e,0,n,a)+t},easeOut:function(e,t,n,a){return(e/=a)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOut:function(e,t,n,a){return e<a/2?.5*Tween.Bounce.easeIn(2*e,0,n,a)+t:.5*Tween.Bounce.easeOut(2*e-a,0,n,a)+.5*n+t}}};DOMReady(function(){function e(){navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)?(alert("抱歉本站不是适合移动设备访问，建议使用pc访问"),window.close()):navigator.userAgent.indexOf("IE")==-1&&navigator.userAgent.indexOf("Firefox")==-1||(alert("建议使用谷歌浏览器,否则会影响您的体验"),window.close())}function t(){m?(y.style.top="-80px",v.style.display="block"):(v.style.display="none",y.style.top="0px")}function n(){var e=document.querySelector(".head-box .head");e.className="head layout headmove"}function a(){var e=document.querySelector(".about_me .about_me_text ul");e.children;e.className="clearfix active"}function o(){var e=document.querySelector(".education"),t=e.children[0];t.className=" layout clearfix education_box ";var n=document.querySelector(".resume .education .ex_progress");n.addEventListener("animationend",function(){draw(x[0],.9),draw(x[1],.8),draw(x[2],.85),draw(x[3],.8)},!1)}function r(){var e=document.querySelectorAll(".skill_progress li"),t=document.querySelectorAll(".skill_progress li div span"),n=document.querySelector(".skill_box .info h2"),a=document.querySelector(".skill_box .info p"),o=0,r=null;n.style.animation="rotateInDownRight 1s ease-in",a.style.animation="rubberBand 1s ease-in",clearInterval(r),r=setInterval(function(){e[o].style.animation="fadeInLeft 1s ease-in",e[o].style.opacity="1",o++,o==e.length&&clearInterval(r)},100),t[0].style.width="90%",l(t[0],90),t[1].style.width="85%",l(t[1],85),t[2].style.width="80%",l(t[2],80)}function l(e,t){var n=0;e.timer=setInterval(function(){n++,e.innerHTML=n+"%",n==t&&clearInterval(e.timer)},30)}function i(){var e=document.getElementById("work_btn");e.style.animation="fadeInDown 1s ";for(var t=0;t<q.length;t++)q[t].style.opacity="1",q[t].style.transform="translateX(0px)",q[t].style.transition="1s all "+.4*t+"s"}function s(){P.style.transform="rotateX(45deg) rotateZ(45deg) translateX(-25vw) translateY(-475px)",C.style.animation="flipInY 2s ease-in"}e();for(var c=document.getElementById("readybox"),u=document.getElementById("welcome"),d=0;d<50;d++){var f=document.createElement("span");c.appendChild(f);var h=rand(60,100);f.style.width=h+"px",f.style.height=h+"px",f.style.left=rand(0,c.offsetWidth)+"px",f.style.top=rand(0,c.offsetHeight)+"px",f.style.background="rgba("+rand(0,256)+","+rand(0,256)+","+rand(0,256)+", 0."+rand(0,10)+")"}document.documentElement.style.overflow="hidden";for(var p=c.children,d=1;d<p.length;d++)playball(p[d],function(){u.style.opacity="1",c.style.opacity="0"});c.addEventListener("transitionend",function(){c.style.display="none",document.documentElement.style.overflow="auto",t(),n()},!1);var y=document.getElementById("header"),m=0,v=document.getElementById("navbar");v.onclick=function(){0!=y.offsetTop?(v.style.display="none",y.style.top="0px"):y.style.top="-80px"};for(var g=document.getElementById("nav"),M=g.children,I=g.children[M.length-1],w=M[0].offsetHeight,d=0;d<M.length-1;d++)M[d].onmouseover=function(){var e=this.children[0],t=this.children[1];I.style.width=this.offsetWidth+"px",startMove(I,{left:this.offsetLeft},{duration:300}),startMove(e,{top:0}),startMove(t,{top:w})},M[d].onmouseout=function(){var e=this.children[0],t=this.children[1];doMove(I,{left:0}),startMove(t,{top:0}),startMove(e,{top:-w})};for(var b=document.getElementById("circle"),x=(b.children,b.querySelectorAll("li canvas")),k=document.getElementById("ex_list"),S=k.children,E=k.querySelectorAll("li dl"),d=0;d<S.length;d++)S[d].index=d,S[d].onclick=function(){for(var e=0;e<E.length;e++)E[e].style.height="0px",E[e].style.borderTop="0";E[this.index].style.height=E[this.index].scrollHeight+"px",E[this.index].style.borderTop="1px solid #ccc"};for(var B=document.getElementById("work_list"),O=document.getElementById("work_btn"),T=O.children,q=B.children,N=!0,d=0;d<T.length;d++)T[d].index=d,T[d].onclick=function(){if(!N){for(var e=0;e<T.length;e++)T[e].className="";switch(this.className="svg-wrapper",this.index){case 0:for(var e=0;e<q.length;e++)q[e].style.display="block";break;case 1:for(var t=/^hc+$/,e=0;e<q.length;e++)t.test(q[e].children[0].className)?q[e].style.display="block":q[e].style.display="none";break;case 2:for(var t=/^hm+$/,e=0;e<q.length;e++)t.test(q[e].children[0].className)?q[e].style.display="block":q[e].style.display="none";break;case 3:for(var t=/^js+$/,e=0;e<q.length;e++)t.test(q[e].children[0].className)?q[e].style.display="block":q[e].style.display="none";break;case 4:for(var t=/^h5+$/,e=0;e<q.length;e++)t.test(q[e].children[0].className)?q[e].style.display="block":q[e].style.display="none";break;case 5:for(var t=/^jp+$/,e=0;e<q.length;e++)t.test(q[e].children[0].className)?q[e].style.display="block":q[e].style.display="none"}through(B)}};through(B);for(var P=document.querySelector("#game_list"),C=document.querySelector(".game .game_box .gametitle"),_=P.children,d=0;d<_.length;d++)_[d].onmouseenter=function(){for(var e=this.children[0].getElementsByTagName("div"),t=0;t<e.length;t++)e[t].style.transform="translateZ("+30*(t+1)+"px) rotateX("+rand(1,10)/2*t+"deg) rotateY("+rand(1,10)/2*t+"deg)",e[t].style.Zindex=e.length-t+1},_[d].onmouseleave=function(){for(var e=this.children[0].getElementsByTagName("div"),t=0;t<e.length;t++)e[t].style.transform="translateZ(0px) rotateX(0deg) rotateY(0deg)",e[t].style.Zindex=1};var H=document.documentElement.clientHeight,L=document.querySelector(".about_me"),W=document.querySelector(".education"),A=document.querySelector(".skill"),Q=document.querySelector(".work"),X=document.querySelector(".object"),Z=document.querySelector(".game"),D=(document.querySelector(".about"),document.querySelector("#wheel_btn")),R=!0,Y=!1;window.onscroll=function(){var e=document.documentElement.scrollTop||document.body.scrollTop;L.offsetTop<=e+H?(a(),D.style.display="block"):D.style.display="none",W.offsetTop<=e+H-200&&o(),A.offsetTop<=e+H-200&&R&&(r(),R=!1),X.offsetTop+Q.offsetTop<=e+H&&N&&(i(),N=!1),Z.offsetTop+Q.offsetTop<=e+H-200&&s(),e>585?m++:m=0,t(),Y&&clearInterval(D.timer),Y=!0},D.onclick=function(){var e=document.documentElement.scrollTop||document.body.scrollTop,t=0,n=t-e,a=Math.floor(100),o=0;clearInterval(D.timer),D.timer=setInterval(function(){o++;var t=1-o/a,r=e+n*(1-Math.pow(t,3));document.documentElement.scrollTop=document.body.scrollTop=r,Y=!1,o==a&&clearInterval(D.timer)},30)};var $=new BMap.Map("map"),F=new BMap.Point(116.807073,39.951205);$.centerAndZoom(F,11);var j=new BMap.Marker(F);$.addOverlay(j),$.addControl(new BMap.NavigationControl),$.addControl(new BMap.ScaleControl),$.addControl(new BMap.OverviewMapControl),$.addControl(new BMap.MapTypeControl)});